<div class="super-container">
  <div class="formulario-container">
    <!-- Header Section -->
    <div class="formulario-header">
      <div class="header-content">
        <h1 class="page-title">Descubre tu Estilo</h1>
        <p class="page-subtitle">
          Completa este formulario para personalizar tu experiencia de aprendizaje
        </p>
      </div>
    </div>

    <!-- Progress Section -->
    <div class="progress-section">
      <div class="progress-bar">
        <div class="progress-fill" [style.width.%]="progress"></div>
      </div>
      <span class="progress-text">{{ progressText }}</span>
    </div>

    <!-- Questions Section -->
    <div *ngIf="!isCompleted" class="question-container">
      <span class="question-number">Pregunta {{ currentQuestionIndex + 1 }}</span>
      <h2 class="question-title">{{ currentQuestion.question }}</h2>

      <div class="options-grid">
        <div
          *ngFor="let option of currentQuestion.options"
          class="option-card"
          [class.selected]="currentQuestion.selectedOption === option.id"
          (click)="selectOption(currentQuestionIndex, option.id)"
        >
          <div class="option-icon">
            <span style="font-size: 1.5rem">{{ option.icon }}</span>
          </div>
          <h3 class="option-title">{{ option.title }}</h3>
          <p class="option-description">{{ option.description }}</p>
        </div>
      </div>

      <!-- Navigation Buttons -->
      <div class="navigation-buttons">
        <button
          class="nav-btn btn-prev"
          (click)="previousQuestion()"
          [disabled]="currentQuestionIndex === 0"
        >
          Anterior
        </button>

        <button
          *ngIf="!isLastQuestion()"
          class="nav-btn btn-next"
          (click)="nextQuestion()"
          [disabled]="!canProceed()"
        >
          Siguiente
        </button>

        <button
          *ngIf="isLastQuestion()"
          class="nav-btn btn-submit"
          (click)="submitForm()"
          [disabled]="!canProceed()"
        >
          Completar
        </button>
      </div>
    </div>

    <!-- Completion Screen -->
    <div *ngIf="isCompleted" class="completion-screen">
      <h1 class="completion-title">Â¡Formulario Completado!</h1>
      <p class="completion-text">
        Hemos analizado tus respuestas y hemos identificado tu estilo de aprendizaje preferido.
      </p>
      <div class="learning-style-result" *ngIf="userLearningStyle">
        <h2 class="learning-style-title">{{ userLearningStyle.name }}</h2>
        <p class="learning-style-description">{{ userLearningStyle.description }}</p>
      </div>
      <button class="completion-btn" (click)="goToCourses()">Explorar Cursos Recomendados</button>
    </div>
  </div>
</div>
